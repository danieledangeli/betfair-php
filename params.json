{"name":"Betfair-php","tagline":"Betfair php library","body":"betfair-php\r\n===========\r\n\r\nThis PHP 5.4+ library helps you to interact with the Betfair API via PHP.\r\n\r\nMen√π\r\n------------\r\n* [Main](README.md)\r\n* [The big view](BIGVIEW.md)\r\n* [How to personalize the library](PERSONALIZE.md)\r\n* [How to contribute](CONTRIBUTE.md)\r\n\r\nInstallation\r\n===========\r\n\r\nThis library can be found on [Packagist](https://packagist.org/packages).\r\nThe recommended way to install this is through [composer](http://getcomposer.org).\r\n\r\nRun these commands to install composer, the library and its dependencies:\r\n\r\n```bash\r\n$ curl -sS https://getcomposer.org/installer | php\r\n$ php composer.phar require erlangb/betfair-php:@dev-master\r\n```\r\n\r\nOr edit `composer.json` and add:\r\n\r\n```json\r\n{\r\n    \"require\": {\r\n        \"erlangb/betfair\": \"@dev-master\"\r\n    }\r\n}\r\n```\r\n\r\n**Protip:** you should browse the\r\n[`erlangb/betfair`](https://packagist.org/packages/erlangb/betfair)\r\npage to choose a stable version to use, instead of dev-master\r\n\r\nAnd install dependencies:\r\n\r\n```bash\r\n$ curl -sS https://getcomposer.org/installer | php\r\n$ php composer.phar install\r\n```\r\n\r\nNow you can add the autoloader, and you will have access to the library:\r\n\r\n```php\r\n<?php\r\n\r\nrequire 'vendor/autoload.php';\r\n```\r\n\r\nIf you don't use neither **Composer** nor a _ClassLoader_ in your application, just require the provided autoloader:\r\n\r\n```php\r\n<?php\r\n\r\nrequire_once 'src/autoload.php';\r\n```\r\n\r\nUsage\r\n======\r\n\r\nObtain an APP_KEY\r\n------------\r\nTo use this library you have to obtain an APP_KEY from [Betfair](https://developer.betfair.com/)\r\n\r\nThe simple usage\r\n------------\r\n**Protip:**  With the __simple usage__ you can have access to the already existing helpers. Please feel free to contribute to this library by adding more helpers.\r\n\r\nThe first step is setting up the library and obtain the **Betfair** object.\r\nThe **Betfair** object has to built up with a *BetfairClient*, *BetfairContainer* and an *Adapter*.\r\n\r\nWe need to build these objects for the library to be customizable, if needed.\r\nIn the __how to customize__ section you will be explained how to do it.\r\n\r\n```php\r\n<?php\r\nrequire 'vendor/autoload.php';\r\nuse Betfair\\Credential;\r\nuse Betfair\\Dependency\\BetfairContainer;\r\nuse Betfair\\Betfair;\r\nuse Betfair\\Client\\BetfairClient;\r\nuse Betfair\\Client\\JsonRpcClient;\r\nuse Betfair\\Adapter\\ArrayAdapter;\r\n\r\n$credential = new Credential(\"APP_KEY\", \"BETFAIR_USERNAME\", 'BETFAIR_PWD');\r\n$container = new BetfairContainer();\r\n$betfairClient = new BetfairClient($credential, new JsonRpcClient());\r\n\r\n$betfair = new Betfair($betfairClient, $container, new ArrayAdapter());\r\n```\r\nWith the **Betfair** object you can access to the API model to execute some query.\r\nFor example, considering the Betfair __Event__ API, you can access to the relative object model by typing:\r\n```php\r\n$betfairEvent = $betfair->getBetfairEvent();\r\n```\r\nFollowing an helper to access the list of events API by typing:\r\n```php\r\n$result = $betfairEvent->getAllEventFilteredByEventTypeIds(array(1));\r\n```\r\nThe result object  is a list of betfair events with event type = 1 (Soccer)\r\n\r\nThe custom usage\r\n------------\r\nWith the simple usage you can use the already existing query helper. \r\nIf you want to run a more specific API query, that is not present on the helpers, you can use a custom query  by using the **GenericBetfair** object.\r\n\r\n```php\r\n$generic = $betfair->getBetfairGeneric();\r\n$filter = $betfair->getContainer()->get('betfair.market.filter.factory')->create();\r\n$filter->setEventTypeIds(array(1));\r\n$to = new \\DateTime('now');\r\n$from = new \\DateTime('now + 3 days');\r\n$filter->setMarketStartTime(new \\Betfair\\Model\\TimeRange($to, $from));\r\n$param = $betfair->getContainer()->get('betfair.param.filter.factory')->create($filter);\r\n$result = $generic->executeCustomQuery($param, 'listEvents'); // or $generic->executeCustomQuery($param, Event::METHOD);  \r\n```\r\n\r\nThis snippet is similar to the simple usage one with a little difference in the filter object, where we have added a constraint that filters the events into a specific time range.\r\n\r\nTo execute a custom query we need two important objects: \r\n\r\n*   *MarketFilter* \r\n*   *Param*\r\n\r\nBy using the simple container, we can access to the factories MarketFactory and ParamFactory. \r\nThis factory creates a Param and a MarketFilter object. With this two objects we can built a custom Filter and a custom Param and passing it to the __executeCustomQuery__ method.\r\n\r\n\r\nHow to contribute\r\n===========\r\n\r\nI'm very glad to be helped to maintain and extend this library. \r\nPlease read the [how to personalize the library](PERSONALIZE.md) section in order to understand how the library is built and how contribute on it\r\n\r\nReporting Issues\r\n------------\r\n\r\nWe would love to hear your feedback. Report issues using the [Github\r\nIssue Tracker](https://github.com/danieledangeli/betfair-php/issues) or email me at\r\n[dangeli88.daniele@gmail.com](mailto:dangeli88.daniele@gmail.com).\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}